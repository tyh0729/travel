<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±äº¬è¿‘éƒŠè·¨å¹´æ—…è¡Œæ°£è±¡çœ‹æ¿</title>
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; --bg: #f8f9fa; --danger: #e74c3c; }
        body { font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; background: var(--bg); margin: 0; padding: 10px; }
        .container { max-width: 900px; margin: auto; background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: var(--primary); margin-bottom: 15px; }
        
        .controls { display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px; }
        select { padding: 12px; border-radius: 8px; border: 1px solid #ddd; font-size: 16px; background: #fff; cursor: pointer; width: 100%; }
        
        .table-wrapper { overflow-x: auto; border-radius: 8px; border: 1px solid #eee; }
        table { width: 100%; border-collapse: collapse; min-width: 450px; }
        th { background: var(--primary); color: white; padding: 12px; }
        td { padding: 12px; border-bottom: 1px solid #eee; text-align: center; }
        
        .temp { font-weight: bold; font-size: 1.1em; }
        .cold { color: #3498db; } 
        .freeze { color: #9b59b6; background: #f4ecf7; font-weight: bold; }
        .wind-warning { color: #e67e22; font-weight: bold; }

        .loading { display: none; text-align: center; padding: 20px; color: var(--accent); font-weight: bold; }
        .info-card { background: #fff3cd; border-left: 5px solid #ffc107; padding: 15px; margin-top: 20px; font-size: 0.85em; }
        
        @media (min-width: 600px) { .controls { flex-direction: row; } }
    </style>
</head>
<body>
<div class="container">
	<h1 class="container">20260110~20260119 æ±äº¬æ—…éŠ</h1>
</div>
	<br><br>
<div class="container">
	<h2 class="container">è¡Œç¨‹</h2>
	<br><br>
	<a href="20260110 åˆ°ä½å®¿é»æ± è¢‹.html">20260110 åˆ°ä½å®¿é»æ± è¢‹</a>
	<br><br>
	<a href="20260111 æ²³å£æ¹–.html">20260111 æ²³å£æ¹– ä¸€æ—¥éŠ</a>
	<br><br>
	<a href="20260112 å·è¶Šä¸€æ—¥éŠ.html">20260112 å·è¶Šä¸€æ—¥éŠ</a>
	<br><br>
	<a href="20260113 éŒå€‰ æ±Ÿä¹‹å³¶ä¸€æ—¥éŠ.html">20260113 éŒå€‰ä¸€æ—¥éŠ</a>
	<br><br>	
	<a href="20260114 æ©«æ¿±ä¸€æ—¥éŠ.html">20260114 æ©«æ¿±ä¸€æ—¥éŠ</a>
	<br><br>
	<a href="20260115 ä¸Šé‡ æ–°å®¿ ç§‹è‘‰åŸä¸€æ—¥éŠ.html">20260115 ä¸Šé‡ æ–°å®¿ ç§‹è‘‰åŸä¸€æ—¥éŠ</a>
	<br><br>	
	<a href="20260116 å‰ç¥¥å¯ºãƒ»ä¸‰é·¹æ·±åº¦ä¸€æ—¥éŠ.html">20260116 å‰ç¥¥å¯ºãƒ»ä¸‰é·¹æ·±åº¦ä¸€æ—¥éŠ</a>
	<br><br>
	<a href="20260117 æ±äº¬å¸‚å€ãƒ»æ¾€è°·.html">20260117 æ±äº¬å¸‚å€ãƒ»æ¾€è°·ä¸€æ—¥éŠ</a>
	<br><br>
	<a href="20260118 æ·ºè‰ãƒ»ä¸‹ç”ºé¢¨æƒ…èˆ‡é›™å¡”çµ•æ™¯.html">20260118 æ·ºè‰ãƒ»ä¸‹ç”ºé¢¨æƒ…èˆ‡é›™å¡”çµ•æ™¯ä¸€æ—¥éŠ</a>
	<br><br>
	<a href="20260119 æ—…éŠæœ€å¾Œä¸€å¤©ï¼šæ±äº¬ to é«˜é›„.html">20260119 æ—…éŠæœ€å¾Œä¸€å¤©ï¼šæ±äº¬ to é«˜é›„</a>
</div>
<br><br>

<div class="container">
    cğŸ‡¯ğŸ‡µ æ±äº¬è¿‘éƒŠæ—…è¡Œæ°£è±¡ (ä»Šæ—¥ â†’ 01/19)</h2>

    <div class="controls">
        <select id="locSelect" onchange="fetchData()">
            <optgroup label="åŸå¸‚å€">
                <option value="35.6895,139.6917">ğŸ“ æ±äº¬å¸‚å€</option>
                <option value="35.4437,139.6380">ğŸš¢ æ©«æ¿±</option>
            </optgroup>
            <optgroup label="è§€å…‰æ™¯é»">
                <option value="35.3192,139.5467">ğŸŒŠ éŒå€‰</option>
                <option value="35.9251,139.4858">ğŸº å·è¶Š</option>
                <option value="35.4981,138.7686" selected>ğŸ—» æ²³å£æ¹–</option>
                <option value="35.2324,139.1033">â™¨ï¸ ç®±æ ¹</option>
                <option value="36.7516,139.5985">â›©ï¸ æ—¥å…‰</option>
                <option value="36.3484,138.6366">ğŸ›ï¸ è¼•äº•æ¾¤</option>
            </optgroup>
        </select>
        
        <select id="dateSelect" onchange="displayTable()"></select>
    </div>

    <div id="loading" class="loading">ğŸ“¡ æ­£åœ¨æ¥æ”¶å³æ™‚æ°£è±¡æ•¸æ“š...</div>
    
    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>æ™‚é–“</th>
                    <th>æº«åº¦</th>
                    <th>é ä¼°å¤©æ°£</th>
                    <th>é¢¨é€Ÿ (m/s)</th>
                </tr>
            </thead>
            <tbody id="weatherBody"></tbody>
        </table>
    </div>

    <div class="info-card">
        <strong>âš ï¸ æ•¸æ“šèªªæ˜ï¼š</strong><br>
        ç›®å‰ç‚º 2025/12/26ï¼ŒAPI å¯æä¾›è‡³ 2026/01/10 ä¹‹å‰çš„ç²¾ç¢ºé å ±ã€‚1/11 ä¹‹å¾Œçš„æ•¸æ“šç‚º<strong>é•·æœŸæ°£å€™é æ¸¬å€¼</strong>ã€‚ç•¶æ—¥æœŸè¶Šæ¥è¿‘æ‚¨çš„å‡ºç™¼æ—¥ï¼Œæ•¸æ“šæœƒè‡ªå‹•æ ¡æ­£ç‚ºçŸ­æœŸé«˜æº–ç¢ºåº¦é å ±ï¼Œè«‹æŒçºŒé—œæ³¨ã€‚
    </div>
</div>

<script>
    let weatherData = null;
    const END_DATE = "2026-01-10";

    function init() {
        const dateSelect = document.getElementById('dateSelect');
        const today = new Date();
        const end = new Date(END_DATE);
        
        // ç”Ÿæˆå¾ä»Šå¤©åˆ° 1/19 çš„æ—¥æœŸé¸é …
        for (let d = new Date(today); d <= end; d.setDate(d.getDate() + 1)) {
            const dateStr = d.toISOString().split('T')[0];
            const opt = document.createElement('option');
            opt.value = dateStr;
            opt.textContent = `${d.getMonth()+1}/${d.getDate()} (${getDayName(d.getDay())})`;
            dateSelect.appendChild(opt);
        }
        fetchData();
    }

    function getDayName(dayIndex) {
        return ["æ—¥", "ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­"][dayIndex];
    }

    async function fetchData() {
        const [lat, lon] = document.getElementById('locSelect').value.split(',');
        const loading = document.getElementById('loading');
        loading.style.display = 'block';

        const today = new Date().toISOString().split('T')[0];
        const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=temperature_2m,windspeed_10m,weathercode&timezone=Asia%2FTokyo&start_date=${today}&end_date=${END_DATE}`;

        try {
            const resp = await fetch(url);
            weatherData = await resp.json();
            displayTable();
        } catch (e) {
            alert("API é€£ç·šè¶…æ™‚æˆ–æ—¥æœŸè¶…å‡ºç¯„åœï¼Œè«‹é‡æ–°æ•´ç†ã€‚");
        } finally {
            loading.style.display = 'none';
        }
    }

    function displayTable() {
        if (!weatherData) return;
        const targetDate = document.getElementById('dateSelect').value;
        const tbody = document.getElementById('weatherBody');
        tbody.innerHTML = '';

        weatherData.hourly.time.forEach((timeStr, i) => {
            if (timeStr.startsWith(targetDate)) {
                const hour = new Date(timeStr).getHours();
                if (hour % 3 === 0) { // æ¯3å°æ™‚é¡¯ç¤º
                    const temp = weatherData.hourly.temperature_2m[i];
                    const wind = (weatherData.hourly.windspeed_10m[i] / 3.6).toFixed(1);
                    const code = weatherData.hourly.weathercode[i];

                    const tr = document.createElement('tr');
                    let tempClass = "temp " + (temp <= 0 ? "freeze" : (temp < 7 ? "cold" : ""));
                    let windClass = wind > 5.0 ? "wind-warning" : "";

                    tr.innerHTML = `
                        <td>${hour < 10 ? '0'+hour : hour}:00</td>
                        <td class="${tempClass}">${temp}Â°C</td>
                        <td>${getWeatherIcon(code)}</td>
                        <td class="${windClass}">${wind}</td>
                    `;
                    tbody.appendChild(tr);
                }
            }
        });
    }

    function getWeatherIcon(code) {
        if (code === 0) return "â˜€ï¸ æ™´";
        if (code <= 3) return "â˜ï¸ å¤šé›²";
        if (code >= 71) return "â„ï¸ é›ª/éœœ";
        if (code >= 51) return "ğŸŒ§ï¸ é›¨";
        return "â›… é™°";
    }

    window.onload = init;
</script>
</body>
</html>